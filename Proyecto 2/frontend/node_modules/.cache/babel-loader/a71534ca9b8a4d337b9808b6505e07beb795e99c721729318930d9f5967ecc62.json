{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAuthStore } from '../stores/auth';\nimport { TruckIcon, EyeIcon, EyeSlashIcon } from '@heroicons/vue/24/outline';\nexport default {\n  __name: 'Login',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const authStore = useAuthStore();\n    const form = ref({\n      email: '',\n      password: ''\n    });\n    const showPassword = ref(false);\n    const handleLogin = async () => {\n      const result = await authStore.login(form.value);\n      if (result.success) {\n        // Redirigir según el rol del usuario\n        if (result.user.rol === 'admin') {\n          router.push('/admin/dashboard');\n        } else {\n          router.push('/user/dashboard');\n        }\n      }\n    };\n    const __returned__ = {\n      router,\n      authStore,\n      form,\n      showPassword,\n      handleLogin,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get useAuthStore() {\n        return useAuthStore;\n      },\n      get TruckIcon() {\n        return TruckIcon;\n      },\n      get EyeIcon() {\n        return EyeIcon;\n      },\n      get EyeSlashIcon() {\n        return EyeSlashIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","useAuthStore","TruckIcon","EyeIcon","EyeSlashIcon","router","authStore","form","email","password","showPassword","handleLogin","result","login","value","success","user","rol","push"],"sources":["C:/Users/MG/Documents/Proyecto/Proyecto 2/frontend/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-md w-full space-y-8\">\n      <div>\n        <div class=\"flex justify-center\">\n          <TruckIcon class=\"h-12 w-12 text-white\" />\n        </div>\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-white\">\n          Iniciar Sesión\n        </h2>\n        <p class=\"mt-2 text-center text-sm text-blue-200\">\n          Accede a tu cuenta del sistema\n        </p>\n      </div>\n      \n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleLogin\">\n        <div class=\"rounded-md shadow-sm space-y-4\">\n          <div>\n            <label for=\"email\" class=\"block text-sm font-medium text-blue-200 mb-1\">\n              Correo Electrónico\n            </label>\n            <input\n              id=\"email\"\n              v-model=\"form.email\"\n              name=\"email\"\n              type=\"email\"\n              autocomplete=\"email\"\n              required\n              class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n              placeholder=\"admin@vehiculos.com\"\n            />\n          </div>\n          <div>\n            <label for=\"password\" class=\"block text-sm font-medium text-blue-200 mb-1\">\n              Contraseña\n            </label>\n            <div class=\"relative\">\n              <input\n                id=\"password\"\n                v-model=\"form.password\"\n                name=\"password\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                autocomplete=\"current-password\"\n                required\n                class=\"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"••••••••\"\n              />\n              <button\n                type=\"button\"\n                class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                @click=\"showPassword = !showPassword\"\n              >\n                <EyeIcon v-if=\"!showPassword\" class=\"h-5 w-5 text-gray-400\" />\n                <EyeSlashIcon v-else class=\"h-5 w-5 text-gray-400\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            :disabled=\"authStore.loading\"\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-300\"\n          >\n            <span v-if=\"authStore.loading\" class=\"flex items-center\">\n              <svg class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Iniciando sesión...\n            </span>\n            <span v-else>Iniciar Sesión</span>\n          </button>\n        </div>\n\n        <!-- Credenciales de demostración -->\n        <div class=\"mt-6 p-4 bg-white/10 backdrop-blur-sm rounded-lg\">\n          <h3 class=\"text-sm font-medium text-white mb-2\">Credenciales de Demostración:</h3>\n          <div class=\"space-y-2 text-xs text-blue-200\">\n            <div>\n              <strong>Administrador:</strong><br>\n              Email: admin@vehiculos.com<br>\n              Contraseña: Admin123!\n            </div>\n            <div>\n              <strong>Usuario:</strong><br>\n              Email: usuario@vehiculos.com<br>\n              Contraseña: User123!\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuthStore } from '../stores/auth'\nimport { TruckIcon, EyeIcon, EyeSlashIcon } from '@heroicons/vue/24/outline'\n\nconst router = useRouter()\nconst authStore = useAuthStore()\n\nconst form = ref({\n  email: '',\n  password: ''\n})\n\nconst showPassword = ref(false)\n\nconst handleLogin = async () => {\n  const result = await authStore.login(form.value)\n  \n  if (result.success) {\n    // Redirigir según el rol del usuario\n    if (result.user.rol === 'admin') {\n      router.push('/admin/dashboard')\n    } else {\n      router.push('/user/dashboard')\n    }\n  }\n}\n</script>\n"],"mappings":";AAkGA,SAASA,GAAG,QAAQ,KAAI;AACxB,SAASC,SAAS,QAAQ,YAAW;AACrC,SAASC,YAAY,QAAQ,gBAAe;AAC5C,SAASC,SAAS,EAAEC,OAAO,EAAEC,YAAY,QAAQ,2BAA0B;;;;;;;IAE3E,MAAMC,MAAM,GAAGL,SAAS,CAAC;IACzB,MAAMM,SAAS,GAAGL,YAAY,CAAC;IAE/B,MAAMM,IAAI,GAAGR,GAAG,CAAC;MACfS,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACZ,CAAC;IAED,MAAMC,YAAY,GAAGX,GAAG,CAAC,KAAK;IAE9B,MAAMY,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAMC,MAAM,GAAG,MAAMN,SAAS,CAACO,KAAK,CAACN,IAAI,CAACO,KAAK;MAE/C,IAAIF,MAAM,CAACG,OAAO,EAAE;QAClB;QACA,IAAIH,MAAM,CAACI,IAAI,CAACC,GAAG,KAAK,OAAO,EAAE;UAC/BZ,MAAM,CAACa,IAAI,CAAC,kBAAkB;QAChC,CAAC,MAAM;UACLb,MAAM,CAACa,IAAI,CAAC,iBAAiB;QAC/B;MACF;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
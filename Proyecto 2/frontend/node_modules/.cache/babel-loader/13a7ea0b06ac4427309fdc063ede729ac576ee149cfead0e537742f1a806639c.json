{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_2 = {\n  class: \"md:flex md:items-center md:justify-between\"\n};\nconst _hoisted_3 = {\n  class: \"mt-4 flex md:ml-4 md:mt-0\"\n};\nconst _hoisted_4 = {\n  class: \"bg-white shadow rounded-lg p-6\"\n};\nconst _hoisted_5 = {\n  class: \"grid grid-cols-1 md:grid-cols-4 gap-4\"\n};\nconst _hoisted_6 = {\n  class: \"bg-white shadow rounded-lg overflow-hidden\"\n};\nconst _hoisted_7 = {\n  class: \"min-w-full divide-y divide-gray-200\"\n};\nconst _hoisted_8 = {\n  class: \"bg-white divide-y divide-gray-200\"\n};\nconst _hoisted_9 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_10 = {\n  class: \"flex items-center\"\n};\nconst _hoisted_11 = {\n  class: \"flex-shrink-0 h-10 w-10\"\n};\nconst _hoisted_12 = [\"src\", \"alt\"];\nconst _hoisted_13 = {\n  class: \"ml-4\"\n};\nconst _hoisted_14 = {\n  class: \"text-sm font-medium text-gray-900\"\n};\nconst _hoisted_15 = {\n  class: \"text-sm text-gray-500\"\n};\nconst _hoisted_16 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_17 = {\n  class: \"text-sm font-medium text-gray-900\"\n};\nconst _hoisted_18 = {\n  class: \"text-sm text-gray-500\"\n};\nconst _hoisted_19 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nconst _hoisted_20 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_21 = {\n  class: \"px-6 py-4 text-sm text-gray-900 max-w-xs truncate\"\n};\nconst _hoisted_22 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2\"\n};\nconst _hoisted_23 = [\"onClick\"];\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = {\n  key: 0,\n  class: \"fixed inset-0 z-50 overflow-y-auto\"\n};\nconst _hoisted_26 = {\n  class: \"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\"\n};\nconst _hoisted_27 = {\n  class: \"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\"\n};\nconst _hoisted_28 = {\n  class: \"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\"\n};\nconst _hoisted_29 = {\n  class: \"space-y-4\"\n};\nconst _hoisted_30 = [\"value\"];\nconst _hoisted_31 = [\"value\"];\nconst _hoisted_32 = {\n  class: \"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6\"\n};\nconst _hoisted_33 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"min-w-0 flex-1\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight\"\n  }, \" Gestión de Asignaciones \")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.showAssignModal = true),\n    class: \"ml-3 inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700\"\n  }, [_createVNode($setup[\"PlusIcon\"], {\n    class: \"-ml-0.5 mr-1.5 h-5 w-5\"\n  }), _cache[7] || (_cache[7] = _createTextVNode(\" Nueva Asignación \"))])])]), _createCommentVNode(\" Filters \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Buscar Usuario\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.filters.usuario = $event),\n    type: \"text\",\n    placeholder: \"Nombre del usuario...\",\n    class: \"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.usuario]])]), _createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Buscar Vehículo\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.filters.vehiculo = $event),\n    type: \"text\",\n    placeholder: \"Matrícula, modelo...\",\n    class: \"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.vehiculo]])]), _createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Estado\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.filters.estado = $event),\n    class: \"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n  }, _cache[11] || (_cache[11] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Todos\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"true\"\n  }, \"Activas\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"false\"\n  }, \"Inactivas\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.filters.estado]])]), _createElementVNode(\"div\", {\n    class: \"flex items-end\"\n  }, [_createElementVNode(\"button\", {\n    onClick: $setup.resetFilters,\n    class: \"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50\"\n  }, \" Limpiar Filtros \")])])]), _createCommentVNode(\" Assignments Table \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_cache[13] || (_cache[13] = _createElementVNode(\"thead\", {\n    class: \"bg-gray-50\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \" Usuario \"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \" Vehículo \"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \" Fecha Asignación \"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \" Estado \"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \" Observaciones \"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \" Acciones \")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredAsignaciones, asignacion => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: asignacion.id\n    }, [_createElementVNode(\"td\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"img\", {\n      class: \"h-10 w-10 rounded-full\",\n      src: asignacion.usuario?.foto_perfil || '/placeholder.svg?height=40&width=40',\n      alt: asignacion.usuario?.nombre\n    }, null, 8 /* PROPS */, _hoisted_12)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, _toDisplayString(asignacion.usuario?.nombre) + \" \" + _toDisplayString(asignacion.usuario?.apellido), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_15, _toDisplayString(asignacion.usuario?.email), 1 /* TEXT */)])])]), _createElementVNode(\"td\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, _toDisplayString(asignacion.vehiculo?.matricula), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_18, _toDisplayString(asignacion.vehiculo?.marca?.nombre) + \" \" + _toDisplayString(asignacion.vehiculo?.modelo), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_19, _toDisplayString($setup.formatDate(asignacion.fecha_asignacion)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_20, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium\", asignacion.activa ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'])\n    }, _toDisplayString(asignacion.activa ? 'Activa' : 'Inactiva'), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_21, _toDisplayString(asignacion.observaciones || 'Sin observaciones'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_22, [asignacion.activa ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $setup.unassignVehicle(asignacion),\n      class: \"text-red-600 hover:text-red-900\"\n    }, \" Desasignar \", 8 /* PROPS */, _hoisted_23)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $setup.editAssignment(asignacion),\n      class: \"text-blue-600 hover:text-blue-900\"\n    }, \" Editar \", 8 /* PROPS */, _hoisted_24)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" Assign Vehicle Modal \"), $setup.showAssignModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n    class: \"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.assignVehicle, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_28, [_cache[19] || (_cache[19] = _createElementVNode(\"h3\", {\n    class: \"text-lg font-medium text-gray-900 mb-4\"\n  }, \"Nueva Asignación de Vehículo\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Usuario *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.assignForm.usuario_id = $event),\n    required: \"\",\n    class: \"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n  }, [_cache[14] || (_cache[14] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Seleccionar usuario\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.usuariosDisponibles, usuario => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: usuario.id,\n      value: usuario.id\n    }, _toDisplayString(usuario.nombre) + \" \" + _toDisplayString(usuario.apellido) + \" (\" + _toDisplayString(usuario.email) + \") \", 9 /* TEXT, PROPS */, _hoisted_30);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.assignForm.usuario_id]])]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Vehículo *\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.assignForm.vehiculo_id = $event),\n    required: \"\",\n    class: \"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n  }, [_cache[16] || (_cache[16] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Seleccionar vehículo\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.vehiculosDisponibles, vehiculo => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: vehiculo.id,\n      value: vehiculo.id\n    }, _toDisplayString(vehiculo.matricula) + \" - \" + _toDisplayString(vehiculo.marca?.nombre) + \" \" + _toDisplayString(vehiculo.modelo), 9 /* TEXT, PROPS */, _hoisted_31);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.assignForm.vehiculo_id]])]), _createElementVNode(\"div\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Observaciones\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.assignForm.observaciones = $event),\n    rows: \"3\",\n    class: \"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\",\n    placeholder: \"Observaciones sobre la asignación...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.assignForm.observaciones]])])])]), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.loading,\n    class: \"w-full inline-flex justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto disabled:opacity-50\"\n  }, _toDisplayString($setup.loading ? 'Asignando...' : 'Asignar Vehículo'), 9 /* TEXT, PROPS */, _hoisted_33), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: $setup.closeAssignModal,\n    class: \"mt-3 w-full inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto\"\n  }, \" Cancelar \")])], 32 /* NEED_HYDRATION */)])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","$event","$setup","showAssignModal","_createVNode","_hoisted_4","_hoisted_5","filters","usuario","type","placeholder","vehiculo","estado","value","resetFilters","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","filteredAsignaciones","asignacion","key","id","_hoisted_9","_hoisted_10","_hoisted_11","src","foto_perfil","alt","nombre","_hoisted_13","_hoisted_14","_toDisplayString","apellido","_hoisted_15","email","_hoisted_16","_hoisted_17","matricula","_hoisted_18","marca","modelo","_hoisted_19","formatDate","fecha_asignacion","_hoisted_20","_normalizeClass","activa","_hoisted_21","observaciones","_hoisted_22","unassignVehicle","_hoisted_23","editAssignment","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","onSubmit","_withModifiers","assignVehicle","_hoisted_28","_hoisted_29","assignForm","usuario_id","required","usuariosDisponibles","_hoisted_30","vehiculo_id","vehiculosDisponibles","_hoisted_31","rows","_hoisted_32","disabled","loading","_hoisted_33","closeAssignModal"],"sources":["C:\\Users\\MG\\Documents\\Proyecto\\Proyecto 2\\frontend\\src\\views\\admin\\Asignaciones.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-6\">\n    <!-- Header -->\n    <div class=\"md:flex md:items-center md:justify-between\">\n      <div class=\"min-w-0 flex-1\">\n        <h2 class=\"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight\">\n          Gestión de Asignaciones\n        </h2>\n      </div>\n      <div class=\"mt-4 flex md:ml-4 md:mt-0\">\n        <button\n          @click=\"showAssignModal = true\"\n          class=\"ml-3 inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700\"\n        >\n          <PlusIcon class=\"-ml-0.5 mr-1.5 h-5 w-5\" />\n          Nueva Asignación\n        </button>\n      </div>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"bg-white shadow rounded-lg p-6\">\n      <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Buscar Usuario</label>\n          <input\n            v-model=\"filters.usuario\"\n            type=\"text\"\n            placeholder=\"Nombre del usuario...\"\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Buscar Vehículo</label>\n          <input\n            v-model=\"filters.vehiculo\"\n            type=\"text\"\n            placeholder=\"Matrícula, modelo...\"\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          />\n        </div>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">Estado</label>\n          <select\n            v-model=\"filters.estado\"\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          >\n            <option value=\"\">Todos</option>\n            <option value=\"true\">Activas</option>\n            <option value=\"false\">Inactivas</option>\n          </select>\n        </div>\n        <div class=\"flex items-end\">\n          <button\n            @click=\"resetFilters\"\n            class=\"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50\"\n          >\n            Limpiar Filtros\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Assignments Table -->\n    <div class=\"bg-white shadow rounded-lg overflow-hidden\">\n      <table class=\"min-w-full divide-y divide-gray-200\">\n        <thead class=\"bg-gray-50\">\n          <tr>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n              Usuario\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n              Vehículo\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n              Fecha Asignación\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n              Estado\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n              Observaciones\n            </th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n              Acciones\n            </th>\n          </tr>\n        </thead>\n        <tbody class=\"bg-white divide-y divide-gray-200\">\n          <tr v-for=\"asignacion in filteredAsignaciones\" :key=\"asignacion.id\">\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0 h-10 w-10\">\n                  <img\n                    class=\"h-10 w-10 rounded-full\"\n                    :src=\"asignacion.usuario?.foto_perfil || '/placeholder.svg?height=40&width=40'\"\n                    :alt=\"asignacion.usuario?.nombre\"\n                  />\n                </div>\n                <div class=\"ml-4\">\n                  <div class=\"text-sm font-medium text-gray-900\">\n                    {{ asignacion.usuario?.nombre }} {{ asignacion.usuario?.apellido }}\n                  </div>\n                  <div class=\"text-sm text-gray-500\">{{ asignacion.usuario?.email }}</div>\n                </div>\n              </div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"text-sm font-medium text-gray-900\">{{ asignacion.vehiculo?.matricula }}</div>\n              <div class=\"text-sm text-gray-500\">\n                {{ asignacion.vehiculo?.marca?.nombre }} {{ asignacion.vehiculo?.modelo }}\n              </div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n              {{ formatDate(asignacion.fecha_asignacion) }}\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <span\n                class=\"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium\"\n                :class=\"asignacion.activa ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\"\n              >\n                {{ asignacion.activa ? 'Activa' : 'Inactiva' }}\n              </span>\n            </td>\n            <td class=\"px-6 py-4 text-sm text-gray-900 max-w-xs truncate\">\n              {{ asignacion.observaciones || 'Sin observaciones' }}\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2\">\n              <button\n                v-if=\"asignacion.activa\"\n                @click=\"unassignVehicle(asignacion)\"\n                class=\"text-red-600 hover:text-red-900\"\n              >\n                Desasignar\n              </button>\n              <button\n                @click=\"editAssignment(asignacion)\"\n                class=\"text-blue-600 hover:text-blue-900\"\n              >\n                Editar\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Assign Vehicle Modal -->\n    <div v-if=\"showAssignModal\" class=\"fixed inset-0 z-50 overflow-y-auto\">\n      <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n        <div class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"></div>\n        \n        <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n          <form @submit.prevent=\"assignVehicle\">\n            <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Nueva Asignación de Vehículo</h3>\n              \n              <div class=\"space-y-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Usuario *</label>\n                  <select\n                    v-model=\"assignForm.usuario_id\"\n                    required\n                    class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n                  >\n                    <option value=\"\">Seleccionar usuario</option>\n                    <option v-for=\"usuario in usuariosDisponibles\" :key=\"usuario.id\" :value=\"usuario.id\">\n                      {{ usuario.nombre }} {{ usuario.apellido }} ({{ usuario.email }})\n                    </option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Vehículo *</label>\n                  <select\n                    v-model=\"assignForm.vehiculo_id\"\n                    required\n                    class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n                  >\n                    <option value=\"\">Seleccionar vehículo</option>\n                    <option v-for=\"vehiculo in vehiculosDisponibles\" :key=\"vehiculo.id\" :value=\"vehiculo.id\">\n                      {{ vehiculo.matricula }} - {{ vehiculo.marca?.nombre }} {{ vehiculo.modelo }}\n                    </option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Observaciones</label>\n                  <textarea\n                    v-model=\"assignForm.observaciones\"\n                    rows=\"3\"\n                    class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n                    placeholder=\"Observaciones sobre la asignación...\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6\">\n              <button\n                type=\"submit\"\n                :disabled=\"loading\"\n                class=\"w-full inline-flex justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto disabled:opacity-50\"\n              >\n                {{ loading ? 'Asignando...' : 'Asignar Vehículo' }}\n              </button>\n              <button\n                type=\"button\"\n                @click=\"closeAssignModal\"\n                class=\"mt-3 w-full inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { PlusIcon } from '@heroicons/vue/24/outline'\nimport api from '../../services/api'\nimport { useToast } from 'vue-toastification'\nimport { format } from 'date-fns'\nimport { es } from 'date-fns/locale'\n\nconst toast = useToast()\n\nconst asignaciones = ref([])\nconst usuariosDisponibles = ref([])\nconst vehiculosDisponibles = ref([])\nconst loading = ref(false)\nconst showAssignModal = ref(false)\n\nconst filters = ref({\n  usuario: '',\n  vehiculo: '',\n  estado: ''\n})\n\nconst assignForm = ref({\n  usuario_id: '',\n  vehiculo_id: '',\n  observaciones: ''\n})\n\nconst filteredAsignaciones = computed(() => {\n  return asignaciones.value.filter(asignacion => {\n    const matchesUsuario = !filters.value.usuario || \n      `${asignacion.usuario?.nombre} ${asignacion.usuario?.apellido}`.toLowerCase().includes(filters.value.usuario.toLowerCase())\n    \n    const matchesVehiculo = !filters.value.vehiculo || \n      asignacion.vehiculo?.matricula.toLowerCase().includes(filters.value.vehiculo.toLowerCase()) ||\n      asignacion.vehiculo?.modelo.toLowerCase().includes(filters.value.vehiculo.toLowerCase())\n    \n    const matchesEstado = filters.value.estado === '' || \n      asignacion.activa.toString() === filters.value.estado\n    \n    return matchesUsuario && matchesVehiculo && matchesEstado\n  })\n})\n\nconst fetchData = async () => {\n  try {\n    const [asignacionesRes, usuariosRes, vehiculosRes] = await Promise.all([\n      api.get('/asignaciones'),\n      api.get('/usuarios?rol=usuario&activo=true'),\n      api.get('/vehiculos?estado=disponible')\n    ])\n    \n    asignaciones.value = asignacionesRes.data.data\n    usuariosDisponibles.value = usuariosRes.data.data\n    vehiculosDisponibles.value = vehiculosRes.data.data\n  } catch (error) {\n    toast.error('Error al cargar los datos')\n  }\n}\n\nconst assignVehicle = async () => {\n  try {\n    loading.value = true\n    await api.post('/asignaciones', assignForm.value)\n    toast.success('Vehículo asignado correctamente')\n    await fetchData()\n    closeAssignModal()\n  } catch (error) {\n    toast.error(error.response?.data?.message || 'Error al asignar el vehículo')\n  } finally {\n    loading.value = false\n  }\n}\n\nconst unassignVehicle = async (asignacion) => {\n  if (confirm(`¿Estás seguro de desasignar el vehículo ${asignacion.vehiculo?.matricula}?`)) {\n    try {\n      await api.patch(`/asignaciones/${asignacion.id}/unassign`)\n      toast.success('Vehículo desasignado correctamente')\n      await fetchData()\n    } catch (error) {\n      toast.error('Error al desasignar el vehículo')\n    }\n  }\n}\n\nconst editAssignment = (asignacion) => {\n  // Implementar edición de asignación\n  console.log('Editar asignación:', asignacion)\n}\n\nconst closeAssignModal = () => {\n  showAssignModal.value = false\n  assignForm.value = {\n    usuario_id: '',\n    vehiculo_id: '',\n    observaciones: ''\n  }\n}\n\nconst resetFilters = () => {\n  filters.value = {\n    usuario: '',\n    vehiculo: '',\n    estado: ''\n  }\n}\n\nconst formatDate = (date) => {\n  return format(new Date(date), 'dd/MM/yyyy HH:mm', { locale: es })\n}\n\nonMounted(() => {\n  fetchData()\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}